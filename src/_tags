# Enable Jonathan's "nazi warnings". (my_warnings)
# This is disabled when shipping.    (my_warnings)
<*>: my_warnings

# Compile options.
true: \
  safe_string, \
  bin_annot

# Menhir needs the Unix library.
<menhir.{byte,native}>: use_unix

# checkOCamlVersion needs the Str library.
<checkOCamlVersion.byte>: use_str

# Build and link with -g.
<**/*.{cmo,cmx}>:debug
<**/*.byte>:debug
<**/*.native>:debug

# Turn off assertions in some modules, where they are useful when debugging, but costly.
<LRijkstra.*>: noassert

# Declare that our temporary build directories should not be traversed.
# This is required by ocamlbuild 4.03; it will otherwise complain that
# these build directories violate its hygiene rules.
<_sdk>: -traverse
<_stage*>: -traverse
<_versioncheck>: -traverse
